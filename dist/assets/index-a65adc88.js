var Fn=Object.defineProperty;var Pn=(t,e,n)=>e in t?Fn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ut=(t,e,n)=>(Pn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function pe(){}const it=t=>t;function on(t){return t()}function Bt(){return Object.create(null)}function re(t){t.forEach(on)}function Ge(t){return typeof t=="function"}function rn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Un(t){return Object.keys(t).length===0}const un=typeof window<"u";let _t=un?()=>window.performance.now():()=>Date.now(),gt=un?t=>requestAnimationFrame(t):pe;const Re=new Set;function an(t){Re.forEach(e=>{e.c(t)||(Re.delete(e),e.f())}),Re.size!==0&&gt(an)}function mt(t){let e;return Re.size===0&&gt(an),{promise:new Promise(n=>{Re.add(e={c:t,f:n})}),abort(){Re.delete(e)}}}function r(t,e){t.appendChild(e)}function cn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Hn(t){const e=h("style");return e.textContent="/* empty */",Wn(cn(t),e),e.sheet}function Wn(t,e){return r(t.head||t,e),e.sheet}function W(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function lt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function E(){return K(" ")}function fn(){return K("")}function F(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function he(t){return t===""?null:+t}function Gn(t){return Array.from(t.childNodes)}function be(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e){t.value=e??""}function ke(t,e,n){for(let i=0;i<t.options.length;i+=1){const l=t.options[i];if(l.__value===e){l.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ve(t){const e=t.querySelector(":checked");return e&&e.__value}function Ie(t,e,n){t.classList.toggle(e,!!n)}function hn(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}const Ye=new Map;let Qe=0;function Zn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Jn(t,e){const n={stylesheet:Hn(e),rules:{}};return Ye.set(t,n),n}function xe(t,e,n,i,l,s,o,u=0){const v=16.666/i;let g=`{
`;for(let p=0;p<=1;p+=v){const N=e+(n-e)*s(p);g+=p*100+`%{${o(N,1-N)}}
`}const f=g+`100% {${o(n,1-n)}}
}`,k=`__svelte_${Zn(f)}_${u}`,A=cn(t),{stylesheet:S,rules:m}=Ye.get(A)||Jn(A,t);m[k]||(m[k]=!0,S.insertRule(`@keyframes ${k} ${f}`,S.cssRules.length));const C=t.style.animation||"";return t.style.animation=`${C?`${C}, `:""}${k} ${i}ms linear ${l}ms 1 both`,Qe+=1,k}function $e(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),l=n.length-i.length;l&&(t.style.animation=i.join(", "),Qe-=l,Qe||qn())}function qn(){gt(()=>{Qe||(Ye.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&H(e)}),Ye.clear())})}let We;function He(t){We=t}function dn(){if(!We)throw new Error("Function called outside component initialization");return We}function pn(t){dn().$$.on_mount.push(t)}function Xn(){const t=dn();return(e,n,{cancelable:i=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=hn(e,n,{cancelable:i});return l.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}const Ee=[],et=[];let Me=[];const ct=[],Vn=Promise.resolve();let ft=!1;function Kn(){ft||(ft=!0,Vn.then(_n))}function $(t){Me.push(t)}function Yn(t){ct.push(t)}const at=new Set;let je=0;function _n(){if(je!==0)return;const t=We;do{try{for(;je<Ee.length;){const e=Ee[je];je++,He(e),Qn(e.$$)}}catch(e){throw Ee.length=0,je=0,e}for(He(null),Ee.length=0,je=0;et.length;)et.pop()();for(let e=0;e<Me.length;e+=1){const n=Me[e];at.has(n)||(at.add(n),n())}Me.length=0}while(Ee.length);for(;ct.length;)ct.pop()();ft=!1,at.clear(),He(t)}function Qn(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}function xn(t){const e=[],n=[];Me.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Me=e}let Le;function vt(){return Le||(Le=Promise.resolve(),Le.then(()=>{Le=null})),Le}function we(t,e,n){t.dispatchEvent(hn(`${e?"intro":"outro"}${n}`))}const Ke=new Set;let de;function Lt(){de={r:0,c:[],p:de}}function Ft(){de.r||re(de.c),de=de.p}function ge(t,e){t&&t.i&&(Ke.delete(t),t.i(e))}function Pe(t,e,n,i){if(t&&t.o){if(Ke.has(t))return;Ke.add(t),de.c.push(()=>{Ke.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const bt={duration:0};function $n(t,e,n){const i={direction:"in"};let l=e(t,n,i),s=!1,o,u,v=0;function g(){o&&$e(t,o)}function f(){const{delay:A=0,duration:S=300,easing:m=it,tick:C=pe,css:p}=l||bt;p&&(o=xe(t,0,1,S,A,m,p,v++)),C(0,1);const N=_t()+A,I=N+S;u&&u.abort(),s=!0,$(()=>we(t,!0,"start")),u=mt(R=>{if(s){if(R>=I)return C(1,0),we(t,!0,"end"),g(),s=!1;if(R>=N){const y=m((R-N)/S);C(y,1-y)}}return s})}let k=!1;return{start(){k||(k=!0,$e(t),Ge(l)?(l=l(i),vt().then(f)):f())},invalidate(){k=!1},end(){s&&(g(),s=!1)}}}function ei(t,e,n){const i={direction:"out"};let l=e(t,n,i),s=!0,o;const u=de;u.r+=1;let v;function g(){const{delay:f=0,duration:k=300,easing:A=it,tick:S=pe,css:m}=l||bt;m&&(o=xe(t,1,0,k,f,A,m));const C=_t()+f,p=C+k;$(()=>we(t,!1,"start")),"inert"in t&&(v=t.inert,t.inert=!0),mt(N=>{if(s){if(N>=p)return S(0,1),we(t,!1,"end"),--u.r||re(u.c),!1;if(N>=C){const I=A((N-C)/k);S(1-I,I)}}return s})}return Ge(l)?vt().then(()=>{l=l(i),g()}):g(),{end(f){f&&"inert"in t&&(t.inert=v),f&&l.tick&&l.tick(1,0),s&&(o&&$e(t,o),s=!1)}}}function Xe(t,e,n,i){let s=e(t,n,{direction:"both"}),o=i?0:1,u=null,v=null,g=null,f;function k(){g&&$e(t,g)}function A(m,C){const p=m.b-o;return C*=Math.abs(p),{a:o,b:m.b,d:p,duration:C,start:m.start,end:m.start+C,group:m.group}}function S(m){const{delay:C=0,duration:p=300,easing:N=it,tick:I=pe,css:R}=s||bt,y={start:_t()+C,b:m};m||(y.group=de,de.r+=1),"inert"in t&&(m?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),u||v?v=y:(R&&(k(),g=xe(t,o,m,p,C,N,R)),m&&I(0,1),u=A(y,p),$(()=>we(t,m,"start")),mt(d=>{if(v&&d>v.start&&(u=A(v,p),v=null,we(t,u.b,"start"),R&&(k(),g=xe(t,o,u.b,u.duration,0,N,s.css))),u){if(d>=u.end)I(o=u.b,1-o),we(t,u.b,"end"),v||(u.b?k():--u.group.r||re(u.group.c)),u=null;else if(d>=u.start){const w=d-u.start;o=u.a+u.d*N(w/u.duration),I(o,1-o)}}return!!(u||v)}))}return{run(m){Ge(s)?vt().then(()=>{s=s({direction:m?"in":"out"}),S(m)}):S(m)},end(){k(),u=v=null}}}function ae(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function gn(t,e){t.d(1),e.delete(t.key)}function mn(t,e,n,i,l,s,o,u,v,g,f,k){let A=t.length,S=s.length,m=A;const C={};for(;m--;)C[t[m].key]=m;const p=[],N=new Map,I=new Map,R=[];for(m=S;m--;){const M=k(l,s,m),T=n(M);let z=o.get(T);z?i&&R.push(()=>z.p(M,e)):(z=g(T,M),z.c()),N.set(T,p[m]=z),T in C&&I.set(T,Math.abs(m-C[T]))}const y=new Set,d=new Set;function w(M){ge(M,1),M.m(u,f),o.set(M.key,M),f=M.first,S--}for(;A&&S;){const M=p[S-1],T=t[A-1],z=M.key,Y=T.key;M===T?(f=M.first,A--,S--):N.has(Y)?!o.has(z)||y.has(z)?w(M):d.has(Y)?A--:I.get(z)>I.get(Y)?(d.add(z),w(M)):(y.add(Y),A--):(v(T,o),A--)}for(;A--;){const M=t[A];N.has(M.key)||v(M,o)}for(;S;)w(p[S-1]);return re(R),p}function ti(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ni(t){t&&t.c()}function vn(t,e,n){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),$(()=>{const s=t.$$.on_mount.map(on).filter(Ge);t.$$.on_destroy?t.$$.on_destroy.push(...s):re(s),t.$$.on_mount=[]}),l.forEach($)}function bn(t,e){const n=t.$$;n.fragment!==null&&(xn(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ii(t,e){t.$$.dirty[0]===-1&&(Ee.push(t),Kn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kn(t,e,n,i,l,s,o,u=[-1]){const v=We;He(t);const g=t.$$={fragment:null,ctx:[],props:s,update:pe,not_equal:l,bound:Bt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(v?v.$$.context:[])),callbacks:Bt(),dirty:u,skip_bound:!1,root:e.target||v.$$.root};o&&o(g.root);let f=!1;if(g.ctx=n?n(t,e.props||{},(k,A,...S)=>{const m=S.length?S[0]:A;return g.ctx&&l(g.ctx[k],g.ctx[k]=m)&&(!g.skip_bound&&g.bound[k]&&g.bound[k](m),f&&ii(t,k)),A}):[],g.update(),f=!0,re(g.before_update),g.fragment=i?i(g.ctx):!1,e.target){if(e.hydrate){const k=Gn(e.target);g.fragment&&g.fragment.l(k),k.forEach(H)}else g.fragment&&g.fragment.c();e.intro&&ge(t.$$.fragment),vn(t,e.target,e.anchor),_n()}He(v)}class yn{constructor(){ut(this,"$$");ut(this,"$$set")}$destroy(){bn(this,1),this.$destroy=pe}$on(e,n){if(!Ge(n))return pe;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!Un(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const li="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(li);const me={NONE:"--",D4:"d4",D6:"d6",D8:"d8",D10:"d10",D12:"d12"},V=9007199254740992,Fe=V-1,tt=-1>>>0,ce=tt+1,nt=ce/2,Ze=1<<21,Se=Ze-1;function kt(t){return t.next()|0}function ve(t,e){return e===0?t:n=>t(n)+e}function ht(t){const e=t.next()|0,n=t.next()>>>0;return(e&Se)*ce+n+(e&Ze?-V:0)}function wn(t){for(;;){const e=t.next()|0;if(e&4194304){if((e&8388607)===4194304&&!(t.next()|0))return V}else{const n=t.next()>>>0;return(e&Se)*ce+n+(e&Ze?-V:0)}}}function Sn(t){return t.next()>>>0}function st(t){const e=t.next()&Se,n=t.next()>>>0;return e*ce+n}function yt(t){for(;;){const e=t.next()|0;if(e&Ze){if(!(e&Se)&&!(t.next()|0))return V}else{const n=t.next()>>>0;return(e&Se)*ce+n}}}function Cn(t){return(t+1&t)===0}function si(t){return e=>e.next()&t}function oi(t){const e=t+1,n=e*Math.floor(ce/e);return i=>{let l=0;do l=i.next()>>>0;while(l>=n);return l%e}}function ri(t){return Cn(t)?si(t):oi(t)}function ui(t){return(t|0)===0}function ai(t){return e=>{const n=e.next()&t,i=e.next()>>>0;return n*ce+i}}function ci(t){const e=t*Math.floor(V/t);return n=>{let i=0;do{const l=n.next()&Se,s=n.next()>>>0;i=l*ce+s}while(i>=e);return i%t}}function fi(t){const e=t+1;if(ui(e)){const n=(e/ce|0)-1;if(Cn(n))return ai(n)}return ci(e)}function Pt(t,e){return n=>{let i=0;do{const l=n.next()|0,s=n.next()>>>0;i=(l&Se)*ce+s+(l&Ze?-V:0)}while(i<t||i>e);return i}}function Ce(t,e){if(t=Math.floor(t),e=Math.floor(e),t<-V||!isFinite(t))throw new RangeError(`Expected min to be at least ${-V}`);if(e>V||!isFinite(e))throw new RangeError(`Expected max to be at most ${V}`);const n=e-t;return n<=0||!isFinite(n)?()=>t:n===tt?t===0?Sn:ve(kt,t+nt):n<tt?ve(ri(n),t):n===Fe?ve(st,t):n<Fe?ve(fi(n),t):e-1-t===Fe?ve(yt,t):t===-V&&e===V?wn:t===-V&&e===Fe?ht:t===-Fe&&e===V?ve(ht,1):e===V?ve(Pt(t-1,e-1),1):Pt(t,e)}function hi(t){return(t.next()&1)===1}function dt(t,e){return n=>t(n)<e}function di(t){if(t<=0)return()=>!1;if(t>=1)return()=>!0;{const e=t*ce;return e%1===0?dt(kt,e-nt|0):dt(st,Math.round(t*V))}}function pi(t,e){return e==null?t==null?hi:di(t):t<=0?()=>!1:t>=e?()=>!0:dt(Ce(0,e-1),t)}function _i(t,e){const n=Ce(+t,+e);return i=>new Date(n(i))}function Nn(t){return Ce(1,t)}function gi(t,e){const n=Nn(t);return i=>{const l=[];for(let s=0;s<e;++s)l.push(n(i));return l}}const mi="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-";function wt(t=mi){const e=t.length;if(!e)throw new Error("Expected pool not to be an empty string");const n=Ce(0,e-1);return(i,l)=>{let s="";for(let o=0;o<l;++o){const u=n(i);s+=t.charAt(u)}return s}}const An="0123456789abcdef",vi=wt(An),bi=wt(An.toUpperCase());function ki(t){return t?bi:vi}function Ut(t,e){return t<0?Math.max(t+e,0):Math.min(t,e)}function Ht(t){const e=+t;return e<0?Math.ceil(e):Math.floor(e)}function yi(t,e,n,i){const l=e.length;if(l===0)throw new RangeError("Cannot pick from an empty array");const s=n==null?0:Ut(Ht(n),l),o=i===void 0?l:Ut(Ht(i),l);if(s>=o)throw new RangeError(`Cannot pick between bounds ${s} and ${o}`);const u=Ce(s,o-1);return e[u(t)]}function wi(t,e){return e===1?t:e===0?()=>0:n=>t(n)*e}function jn(t){return st(t)/V}function Dn(t){return yt(t)/V}function Si(t,e,n=!1){if(isFinite(t)){if(!isFinite(e))throw new RangeError("Expected max to be a finite number")}else throw new RangeError("Expected min to be a finite number");return ve(wi(n?Dn:jn,e-t),t)}const Ci=Array.prototype.slice;function pt(t,e,n=0){const i=e.length;if(i)for(let l=i-1>>>0;l>n;--l){const o=Ce(0,l)(t);if(l!==o){const u=e[l];e[l]=e[o],e[o]=u}}return e}function Ni(t,e,n){if(n<0||n>e.length||!isFinite(n))throw new RangeError("Expected sampleSize to be within 0 and the length of the population");if(n===0)return[];const i=Ci.call(e),l=i.length;if(l===n)return pt(t,i,0);const s=l-n;return pt(t,i,s-1).slice(s)}const Ai=(()=>{try{if("x".repeat(3)==="xxx")return(t,e)=>t.repeat(e)}catch{}return(t,e)=>{let n="";for(;e>0;)e&1&&(n+=t),e>>=1,t+=t;return n}})();function De(t,e){return Ai("0",e-t.length)+t}function ji(t){const e=t.next()>>>0,n=t.next()|0,i=t.next()|0,l=t.next()>>>0;return De(e.toString(16),8)+"-"+De((n&65535).toString(16),4)+"-"+De((n>>4&4095|16384).toString(16),4)+"-"+De((i&16383|32768).toString(16),4)+"-"+De((i>>4&65535).toString(16),4)+De(l.toString(16),8)}const Di={next(){return Math.random()*ce|0}};class Ei{constructor(e=Di){this.engine=e}int32(){return kt(this.engine)}uint32(){return Sn(this.engine)}uint53(){return st(this.engine)}uint53Full(){return yt(this.engine)}int53(){return ht(this.engine)}int53Full(){return wn(this.engine)}integer(e,n){return Ce(e,n)(this.engine)}realZeroToOneInclusive(){return Dn(this.engine)}realZeroToOneExclusive(){return jn(this.engine)}real(e,n,i=!1){return Si(e,n,i)(this.engine)}bool(e,n){return pi(e,n)(this.engine)}pick(e,n,i){return yi(this.engine,e,n,i)}shuffle(e){return pt(this.engine,e)}sample(e,n){return Ni(this.engine,e,n)}die(e){return Nn(e)(this.engine)}dice(e,n){return gi(e,n)(this.engine)}uuid4(){return ji(this.engine)}string(e,n){return wt(n)(this.engine,e)}hex(e,n){return ki(n)(this.engine,e)}date(e,n){return _i(e,n)(this.engine)}}(()=>{try{const t=new ArrayBuffer(4),e=new Int32Array(t);if(e[0]=nt,e[0]===-nt)return Int32Array}catch{}return Array})();(()=>{try{if(Math.imul(tt,5)===-5)return Math.imul}catch{}const t=65535;return(e,n)=>{const i=e>>>16&t,l=e&t,s=n>>>16&t,o=n&t;return l*o+(i*o+l*s<<16>>>0)|0}})();function Ii(t){const e=t-1;return e*e*e+1}function Ue(t,{delay:e=0,duration:n=400,easing:i=it}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:s=>`opacity: ${s*l}`}}function Ri(t,{delay:e=0,duration:n=400,easing:i=Ii,axis:l="y"}={}){const s=getComputedStyle(t),o=+s.opacity,u=l==="y"?"height":"width",v=parseFloat(s[u]),g=l==="y"?["top","bottom"]:["left","right"],f=g.map(N=>`${N[0].toUpperCase()}${N.slice(1)}`),k=parseFloat(s[`padding${f[0]}`]),A=parseFloat(s[`padding${f[1]}`]),S=parseFloat(s[`margin${f[0]}`]),m=parseFloat(s[`margin${f[1]}`]),C=parseFloat(s[`border${f[0]}Width`]),p=parseFloat(s[`border${f[1]}Width`]);return{delay:e,duration:n,easing:i,css:N=>`overflow: hidden;opacity: ${Math.min(N*20,1)*o};${u}: ${N*v}px;padding-${g[0]}: ${N*k}px;padding-${g[1]}: ${N*A}px;margin-${g[0]}: ${N*S}px;margin-${g[1]}: ${N*m}px;border-${g[0]}-width: ${N*C}px;border-${g[1]}-width: ${N*p}px;`}}function Wt(t,e,n){const i=t.slice();return i[33]=e[n],i[34]=e,i[35]=n,i}function Gt(t,e,n){const i=t.slice();return i[36]=e[n],i[37]=e,i[38]=n,i}function Zt(t,e,n){const i=t.slice();return i[39]=e[n],i}function Jt(t,e,n){const i=t.slice();return i[39]=e[n],i}function qt(t){let e,n,i;return{c(){e=h("a"),n=K("Go"),a(e,"href",i=t[33].info.split(" ").find($t)),a(e,"target","_blank"),a(e,"class","info-btn svelte-12j015h")},m(l,s){W(l,e,s),r(e,n)},p(l,s){s[0]&1&&i!==(i=l[33].info.split(" ").find($t))&&a(e,"href",i)},d(l){l&&H(e)}}}function Xt(t){let e,n=t[39]+"",i;return{c(){e=h("option"),i=K(n),e.__value=t[39],x(e,e.__value),a(e,"class","svelte-12j015h")},m(l,s){W(l,e,s),r(e,i)},p:pe,d(l){l&&H(e)}}}function Vt(t){let e,n=ae(t[33].extraAttacks),i=[];for(let l=0;l<n.length;l+=1)i[l]=Yt(Gt(t,n,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=fn()},m(l,s){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(l,s);W(l,e,s)},p(l,s){if(s[0]&65){n=ae(l[33].extraAttacks);let o;for(o=0;o<n.length;o+=1){const u=Gt(l,n,o);i[o]?i[o].p(u,s):(i[o]=Yt(u),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(l){l&&H(e),lt(i,l)}}}function Kt(t){let e,n=t[39]+"",i;return{c(){e=h("option"),i=K(n),e.__value=t[39],x(e,e.__value),a(e,"class","svelte-12j015h")},m(l,s){W(l,e,s),r(e,i)},p:pe,d(l){l&&H(e)}}}function Yt(t){let e,n,i,l,s,o,u,v,g,f,k,A,S,m,C=ae(Object.values(me)),p=[];for(let y=0;y<C.length;y+=1)p[y]=Kt(Zt(t,C,y));function N(){t[26].call(s,t[37],t[38])}function I(){t[27].call(v,t[37],t[38])}function R(){return t[28](t[36],t[33],t[37],t[38])}return{c(){e=h("tr"),n=h("td"),i=E(),l=h("td"),s=h("select");for(let y=0;y<p.length;y+=1)p[y].c();o=E(),u=h("td"),v=h("input"),g=E(),f=h("td"),k=h("button"),k.textContent="Roll Initiative",A=E(),a(n,"class","empty svelte-12j015h"),a(s,"class","svelte-12j015h"),t[36].initiativeDie===void 0&&$(N),a(l,"class","svelte-12j015h"),a(v,"type","number"),a(v,"min","0"),a(v,"max","10"),a(v,"class","svelte-12j015h"),a(u,"class","svelte-12j015h"),a(k,"class","highlighted svelte-12j015h"),a(f,"colspan","5"),a(f,"class","svelte-12j015h"),a(e,"class","extra-attacks svelte-12j015h"),Ie(e,"dead",!t[33].alive)},m(y,d){W(y,e,d),r(e,n),r(e,i),r(e,l),r(l,s);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(s,null);ke(s,t[36].initiativeDie,!0),r(e,o),r(e,u),r(u,v),x(v,t[36].initiativeSeg),r(e,g),r(e,f),r(f,k),r(e,A),S||(m=[F(s,"change",N),F(v,"input",I),F(k,"click",R)],S=!0)},p(y,d){if(t=y,d&0){C=ae(Object.values(me));let w;for(w=0;w<C.length;w+=1){const M=Zt(t,C,w);p[w]?p[w].p(M,d):(p[w]=Kt(M),p[w].c(),p[w].m(s,null))}for(;w<p.length;w+=1)p[w].d(1);p.length=C.length}d[0]&1&&ke(s,t[36].initiativeDie),d[0]&1&&he(v.value)!==t[36].initiativeSeg&&x(v,t[36].initiativeSeg),d[0]&1&&Ie(e,"dead",!t[33].alive)},d(y){y&&H(e),lt(p,y),S=!1,re(m)}}}function Qt(t,e){var Mt,Tt;let n,i,l=e[33].number+"",s,o,u,v,g,f,k,A=(Mt=e[33].info)==null?void 0:Mt.includes("http"),S,m,C,p,N,I,R,y,d,w,M,T,z,Y,J,se,Q,oe,ee,q,te,G,X,c,b,j,_,P=e[33].alive?"Mark Dead":"Mark Alive",L,Te,D,B,O,Ne,St,Je,_e,Ct,qe,fe,Nt,Oe,ze,ot,Be,rt,At;function jt(){e[12].call(u,e[34],e[35])}function Dt(){e[13].call(f,e[34],e[35])}let ie=A&&qt(e);function Et(){e[14].call(m,e[34],e[35])}function It(){e[15].call(p,e[34],e[35])}function En(){e[16].call(R,e[34],e[35])}function In(){e[17].call(w,e[34],e[35])}function Rn(){e[18].call(z,e[34],e[35])}function Mn(){return e[19](e[33],e[34],e[35])}function Tn(){return e[20](e[33])}function On(){return e[21](e[33],e[34],e[35])}function zn(){return e[22](e[33])}let Ae=ae(Object.values(me)),ne=[];for(let Z=0;Z<Ae.length;Z+=1)ne[Z]=Xt(Jt(e,Ae,Z));function Rt(){e[23].call(_e,e[34],e[35])}function Bn(){e[24].call(fe,e[34],e[35])}function Ln(){return e[25](e[33],e[34],e[35])}let le=((Tt=e[33].extraAttacks)==null?void 0:Tt.length)&&Vt(e);return{key:t,first:null,c(){n=h("tr"),i=h("td"),s=K(l),o=E(),u=h("td"),v=E(),g=h("td"),f=h("div"),k=E(),ie&&ie.c(),S=E(),m=h("td"),C=E(),p=h("td"),N=E(),I=h("td"),R=h("input"),y=E(),d=h("td"),w=h("input"),M=E(),T=h("td"),z=h("input"),Y=E(),J=h("tr"),se=h("th"),Q=E(),oe=h("th"),oe.textContent="Initiative Die",ee=E(),q=h("th"),q.textContent="Initiative Segment",te=E(),G=h("td"),X=h("button"),X.textContent="Add Split Initiative Attack",c=E(),b=h("button"),b.textContent="Delete",j=E(),_=h("button"),L=K(P),Te=E(),D=h("button"),D.textContent="Copy Monster",B=E(),O=h("tr"),Ne=h("td"),St=E(),Je=h("td"),_e=h("select");for(let Z=0;Z<ne.length;Z+=1)ne[Z].c();Ct=E(),qe=h("td"),fe=h("input"),Nt=E(),Oe=h("td"),ze=h("button"),ze.textContent="Roll Initiative",ot=E(),le&&le.c(),Be=fn(),a(i,"class","svelte-12j015h"),a(u,"contenteditable",""),a(u,"class","svelte-12j015h"),e[33].name===void 0&&$(jt),a(f,"contenteditable",""),a(f,"class","svelte-12j015h"),e[33].info===void 0&&$(Dt),a(g,"class","info svelte-12j015h"),a(m,"contenteditable",""),a(m,"class","svelte-12j015h"),e[33].target===void 0&&$(Et),a(p,"contenteditable",""),a(p,"class","svelte-12j015h"),e[33].status===void 0&&$(It),a(R,"type","number"),a(R,"class","svelte-12j015h"),a(I,"class","svelte-12j015h"),a(w,"type","number"),a(w,"class","svelte-12j015h"),a(d,"class","svelte-12j015h"),a(z,"type","number"),a(z,"class","svelte-12j015h"),a(T,"class","svelte-12j015h"),a(n,"class","monster svelte-12j015h"),Ie(n,"dead",!e[33].alive),a(se,"class","empty svelte-12j015h"),a(oe,"class","svelte-12j015h"),a(q,"class","svelte-12j015h"),a(X,"class","svelte-12j015h"),a(b,"class","svelte-12j015h"),a(_,"class","svelte-12j015h"),a(D,"class","svelte-12j015h"),a(G,"colspan","5"),a(G,"class","btn-td svelte-12j015h"),a(Ne,"class","empty svelte-12j015h"),a(_e,"class","svelte-12j015h"),e[33].initiativeDie===void 0&&$(Rt),a(Je,"class","svelte-12j015h"),a(fe,"type","number"),a(fe,"min","0"),a(fe,"max","10"),a(fe,"class","svelte-12j015h"),a(qe,"class","svelte-12j015h"),a(ze,"class","highlighted svelte-12j015h"),a(Oe,"colspan","5"),a(Oe,"class","svelte-12j015h"),a(O,"class","base-attacks svelte-12j015h"),Ie(O,"dead",!e[33].alive),this.first=n},m(Z,U){W(Z,n,U),r(n,i),r(i,s),r(n,o),r(n,u),e[33].name!==void 0&&(u.textContent=e[33].name),r(n,v),r(n,g),r(g,f),e[33].info!==void 0&&(f.textContent=e[33].info),r(g,k),ie&&ie.m(g,null),r(n,S),r(n,m),e[33].target!==void 0&&(m.textContent=e[33].target),r(n,C),r(n,p),e[33].status!==void 0&&(p.textContent=e[33].status),r(n,N),r(n,I),r(I,R),x(R,e[33].hp),r(n,y),r(n,d),r(d,w),x(w,e[33].ac),r(n,M),r(n,T),r(T,z),x(z,e[33].dexBonus),W(Z,Y,U),W(Z,J,U),r(J,se),r(J,Q),r(J,oe),r(J,ee),r(J,q),r(J,te),r(J,G),r(G,X),r(G,c),r(G,b),r(G,j),r(G,_),r(_,L),r(G,Te),r(G,D),W(Z,B,U),W(Z,O,U),r(O,Ne),r(O,St),r(O,Je),r(Je,_e);for(let ye=0;ye<ne.length;ye+=1)ne[ye]&&ne[ye].m(_e,null);ke(_e,e[33].initiativeDie,!0),r(O,Ct),r(O,qe),r(qe,fe),x(fe,e[33].initiativeSeg),r(O,Nt),r(O,Oe),r(Oe,ze),W(Z,ot,U),le&&le.m(Z,U),W(Z,Be,U),rt||(At=[F(u,"input",jt),F(f,"input",Dt),F(m,"input",Et),F(p,"input",It),F(R,"input",En),F(w,"input",In),F(z,"input",Rn),F(X,"click",Mn),F(b,"click",Tn),F(_,"click",On),F(D,"click",zn),F(_e,"change",Rt),F(fe,"input",Bn),F(ze,"click",Ln)],rt=!0)},p(Z,U){var ye,Ot;if(e=Z,U[0]&1&&l!==(l=e[33].number+"")&&be(s,l),U[0]&1&&e[33].name!==u.textContent&&(u.textContent=e[33].name),U[0]&1&&e[33].info!==f.textContent&&(f.textContent=e[33].info),U[0]&1&&(A=(ye=e[33].info)==null?void 0:ye.includes("http")),A?ie?ie.p(e,U):(ie=qt(e),ie.c(),ie.m(g,null)):ie&&(ie.d(1),ie=null),U[0]&1&&e[33].target!==m.textContent&&(m.textContent=e[33].target),U[0]&1&&e[33].status!==p.textContent&&(p.textContent=e[33].status),U[0]&1&&he(R.value)!==e[33].hp&&x(R,e[33].hp),U[0]&1&&he(w.value)!==e[33].ac&&x(w,e[33].ac),U[0]&1&&he(z.value)!==e[33].dexBonus&&x(z,e[33].dexBonus),U[0]&1&&Ie(n,"dead",!e[33].alive),U[0]&1&&P!==(P=e[33].alive?"Mark Dead":"Mark Alive")&&be(L,P),U&0){Ae=ae(Object.values(me));let ue;for(ue=0;ue<Ae.length;ue+=1){const zt=Jt(e,Ae,ue);ne[ue]?ne[ue].p(zt,U):(ne[ue]=Xt(zt),ne[ue].c(),ne[ue].m(_e,null))}for(;ue<ne.length;ue+=1)ne[ue].d(1);ne.length=Ae.length}U[0]&1&&ke(_e,e[33].initiativeDie),U[0]&1&&he(fe.value)!==e[33].initiativeSeg&&x(fe,e[33].initiativeSeg),U[0]&1&&Ie(O,"dead",!e[33].alive),(Ot=e[33].extraAttacks)!=null&&Ot.length?le?le.p(e,U):(le=Vt(e),le.c(),le.m(Be.parentNode,Be)):le&&(le.d(1),le=null)},d(Z){Z&&(H(n),H(Y),H(J),H(B),H(O),H(ot),H(Be)),ie&&ie.d(),lt(ne,Z),le&&le.d(Z),rt=!1,re(At)}}}function xt(t){let e,n,i;return{c(){e=h("button"),e.textContent="Next Round",a(e,"class","next highlighted svelte-12j015h")},m(l,s){W(l,e,s),n||(i=F(e,"click",t[31]),n=!0)},p:pe,d(l){l&&H(e),n=!1,i()}}}function Mi(t){let e,n,i,l=t[0].roundNumber+"",s,o,u,v,g,f,k,A,S,m,C,p,N,I,R,y,d=[],w=new Map,M,T,z,Y,J,se,Q,oe,ee,q,te,G,X,c=ae(t[0].monsters);const b=_=>_[33].number;for(let _=0;_<c.length;_+=1){let P=Wt(t,c,_),L=b(P);w.set(L,d[_]=Qt(L,P))}let j=t[1]&&xt(t);return{c(){e=h("section"),n=h("h2"),i=K("Round "),s=K(l),o=E(),u=h("div"),v=h("label"),g=K("Sort by: "),f=h("select"),k=h("option"),k.textContent="Monster #",A=h("option"),A.textContent="Name",S=h("option"),S.textContent="Earliest Initiative Segment",m=E(),C=h("button"),C.textContent="Roll All Initiatives",p=E(),N=h("table"),I=h("thead"),I.innerHTML='<tr><th class="svelte-12j015h">Monster #</th> <th class="svelte-12j015h">Name</th> <th class="svelte-12j015h">Info</th> <th class="svelte-12j015h">Target</th> <th class="svelte-12j015h">Status</th> <th class="svelte-12j015h">HP</th> <th class="svelte-12j015h">AC</th> <th class="svelte-12j015h">Dex Bonus</th></tr>',R=E(),y=h("tbody");for(let _=0;_<d.length;_+=1)d[_].c();M=E(),T=h("div"),z=h("button"),z.textContent="Add New Monster",Y=E(),J=h("button"),J.textContent="Roll All Initiatives",se=E(),j&&j.c(),oe=E(),ee=h("hr"),k.__value="number",x(k,k.__value),A.__value="name",x(A,A.__value),S.__value="seg",x(S,S.__value),t[3]===void 0&&$(()=>t[9].call(f)),a(v,"class","sort"),a(C,"class","highlighted"),a(u,"class","buttons svelte-12j015h"),a(I,"class","svelte-12j015h"),a(y,"class","svelte-12j015h"),a(N,"class","svelte-12j015h"),a(J,"class","highlighted"),a(T,"class","buttons svelte-12j015h"),a(e,"class","round"),a(ee,"class","svelte-12j015h")},m(_,P){W(_,e,P),r(e,n),r(n,i),r(n,s),t[8](n),r(e,o),r(e,u),r(u,v),r(v,g),r(v,f),r(f,k),r(f,A),r(f,S),ke(f,t[3],!0),r(u,m),r(u,C),r(e,p),r(e,N),r(N,I),r(N,R),r(N,y);for(let L=0;L<d.length;L+=1)d[L]&&d[L].m(y,null);r(e,M),r(e,T),r(T,z),r(T,Y),r(T,J),r(T,se),j&&j.m(T,null),W(_,oe,P),W(_,ee,P),te=!0,G||(X=[F(f,"change",t[9]),F(f,"change",t[10]),F(C,"click",t[11]),F(z,"click",t[29]),F(J,"click",t[30])],G=!0)},p(_,P){(!te||P[0]&1)&&l!==(l=_[0].roundNumber+"")&&be(s,l),P[0]&8&&ke(f,_[3]),P[0]&197&&(c=ae(_[0].monsters),d=mn(d,P,b,1,_,c,w,y,gn,Qt,null,Wt)),_[1]?j?j.p(_,P):(j=xt(_),j.c(),j.m(T,null)):j&&(j.d(1),j=null)},i(_){te||(_&&$(()=>{te&&(Q||(Q=Xe(e,Ue,{duration:500},!0)),Q.run(1))}),_&&$(()=>{te&&(q||(q=Xe(ee,Ue,{duration:500},!0)),q.run(1))}),te=!0)},o(_){_&&(Q||(Q=Xe(e,Ue,{duration:500},!1)),Q.run(0)),_&&(q||(q=Xe(ee,Ue,{duration:500},!1)),q.run(0)),te=!1},d(_){_&&(H(e),H(oe),H(ee)),t[8](null);for(let P=0;P<d.length;P+=1)d[P].d();j&&j.d(),_&&Q&&Q.end(),_&&q&&q.end(),G=!1,re(X)}}}const $t=t=>t.startsWith("http");function Ti(t,e,n){let{round:i}=e,{current:l}=e,{autoSort:s=!1}=e,o,u;const v=Xn(),g=new Ei;pn(()=>{u&&u.scrollIntoView({behavior:"smooth",block:"center"})});function f({initiativeDie:c,dexBonus:b}){if(c===me.NONE)return;const _=g.die(parseInt(c.slice(1)))-b;return _<0?0:_>10?10:_}function k(){n(0,i.monsters=i.monsters.sort((c,b)=>{var j,_;if((j=c.extraAttacks)!=null&&j.length||(_=b.extraAttacks)!=null&&_.length){const L=[c.initiativeSeg,...c.extraAttacks.map(B=>B.initiativeSeg)].sort((B,O)=>B-O)[0],D=[b.initiativeSeg,...b.extraAttacks.map(B=>B.initiativeSeg)].sort((B,O)=>B-O)[0];return L-D}return c.initiativeSeg-b.initiativeSeg}),i)}function A(c){et[c?"unshift":"push"](()=>{u=c,n(4,u)})}function S(){o=Ve(this),n(3,o)}const m=()=>{switch(o){case"number":n(0,i.monsters=i.monsters.sort((c,b)=>c.number-b.number),i);break;case"name":n(0,i.monsters=i.monsters.sort((c,b)=>{const j=c.name.toUpperCase(),_=b.name.toUpperCase();return j<_?-1:j>_?1:0}),i);break;case"seg":k();break}},C=()=>{n(0,i.monsters=i.monsters.map(c=>{var b;return{...c,initiativeSeg:f({initiativeDie:c.initiativeDie,dexBonus:c.dexBonus}),extraAttacks:(b=c.extraAttacks)==null?void 0:b.map(j=>({...j,initiativeSeg:f({initiativeDie:j.initiativeDie,dexBonus:c.dexBonus})}))}}),i),s&&(k(),n(3,o="seg"))};function p(c,b){c[b].name=this.textContent,n(0,i)}function N(c,b){c[b].info=this.textContent,n(0,i)}function I(c,b){c[b].target=this.textContent,n(0,i)}function R(c,b){c[b].status=this.textContent,n(0,i)}function y(c,b){c[b].hp=he(this.value),n(0,i)}function d(c,b){c[b].ac=he(this.value),n(0,i)}function w(c,b){c[b].dexBonus=he(this.value),n(0,i)}const M=(c,b,j)=>{n(0,b[j].extraAttacks=[...c.extraAttacks,{initiativeDie:me.NONE}],i)},T=c=>{n(0,i.monsters=i.monsters.filter(({number:b})=>b!==c.number),i)},z=(c,b,j)=>{n(0,b[j].alive=!c.alive,i)},Y=c=>{var j;const b={...c,number:i.monsters.length+1,alive:!0,initiativeSeg:void 0,extraAttacks:(j=c.extraAttacks)==null?void 0:j.map(_=>({..._,initiativeSeg:void 0}))};n(0,i.monsters=[...i.monsters,b],i)};function J(c,b){c[b].initiativeDie=Ve(this),n(0,i)}function se(c,b){c[b].initiativeSeg=he(this.value),n(0,i)}const Q=(c,b,j)=>{n(0,b[j].initiativeSeg=f({initiativeDie:c.initiativeDie,dexBonus:c.dexBonus}),i),s&&k()};function oe(c,b){c[b].initiativeDie=Ve(this),n(0,i)}function ee(c,b){c[b].initiativeSeg=he(this.value),n(0,i)}const q=(c,b,j,_)=>{n(0,j[_].initiativeSeg=f({initiativeDie:c.initiativeDie,dexBonus:b.dexBonus}),i)},te=()=>{const c={number:i.monsters.length+1,alive:!0,name:"",target:"",initiativeDie:me.NONE,dexBonus:0,extraAttacks:[],status:"",info:""};n(0,i.monsters=[...i.monsters,c],i)},G=()=>{n(0,i.monsters=i.monsters.map(c=>{var b;return{...c,initiativeSeg:f({initiativeDie:c.initiativeDie,dexBonus:c.dexBonus}),extraAttacks:(b=c.extraAttacks)==null?void 0:b.map(j=>({...j,initiativeSeg:f({initiativeDie:j.initiativeDie,dexBonus:c.dexBonus})}))}}),i),s&&(k(),n(3,o="seg"))},X=()=>{const c={roundNumber:i.roundNumber+1,monsters:i.monsters.map(b=>({...b,initiativeSeg:void 0,extraAttacks:b.extraAttacks.map(j=>({...j,initiativeSeg:void 0}))})).sort((b,j)=>b.number-j.number)};v("next",c)};return t.$$set=c=>{"round"in c&&n(0,i=c.round),"current"in c&&n(1,l=c.current),"autoSort"in c&&n(2,s=c.autoSort)},[i,l,s,o,u,v,f,k,A,S,m,C,p,N,I,R,y,d,w,M,T,z,Y,J,se,Q,oe,ee,q,te,G,X]}class Oi extends yn{constructor(e){super(),kn(this,e,Ti,Mi,rn,{round:0,current:1,autoSort:2},null,[-1,-1])}}function en(t,e,n){const i=t.slice();return i[18]=e[n],i[19]=e,i[20]=n,i}function tn(t,e,n){const i=t.slice();return i[21]=e[n],i}function zi(t){let e;return{c(){e=h("aside"),e.innerHTML=`<details class="svelte-vp7kuz"><summary class="svelte-vp7kuz">About this initiative system</summary> <p class="svelte-vp7kuz">This initiative system was created by my DM&#39;s DM in the 1980&#39;s for 1st
        edition AD&amp;D. I have adapted it for 5E using the house rules below. The
        advantages of this system are that the action being taken effects how
        fast a character goes instead of just their dex, that the initiative
        order changes every round, and that it eliminates 5E Concentration in
        favor of a return to casting times.</p> <strong class="details-heading svelte-vp7kuz">Time:</strong> <p class="svelte-vp7kuz">How quickly action happens in combat has sped up between 1st ed and 5E,
        but to make this system work we need to revert to the old timing:</p> <ul class="svelte-vp7kuz"><li>1 round = 1 minute</li> <li>1 segment = 6 seconds</li> <li>There are 10 segments per round + the “0” segment <br/>
          Going in zero basically means the character managed to finish any setup
          at the end of the last round. This does not include casting time. They
          can start casting in the zero segment but a spell will never go off before
          segment 1.</li> <li>If a 1st ed spell or other source lists time in turns, they mean 1
          turn = 10 minutes, otherwise “turn” just means “when you take your
          next action.”</li> <li>5E combat-related spells with the listed duration of 1 minute will
          have a 10 minute duration.</li></ul> <strong class="details-heading svelte-vp7kuz">Combat sequence:</strong> <p class="svelte-vp7kuz">Each round, everyone rolls Initiative based on what they plan to do:</p> <ul class="svelte-vp7kuz"><li><strong>Weapon Attacks:</strong> damage die - Dex mod<br/>

          I typically ignore the number of dice cast; if an attack does 2d8,
          just roll 1d8 for initiative. The idea is that larger weapons are
          slower, if this formulation doesn&#39;t make sense, pick something
          reasonable. For instance, if something does 2d4 damage, 1d8 probably
          makes the most sense for initiative.</li> <li><strong>Spells:</strong> 1d4 - Dex mod<br/>

          The initiative roll denotes when the character can start casting. Add
          the casting time to determine when the spell takes effect. Casting
          time is typically 1 segment per spell level, see 1st ed version of the
          spell for outliers, or DM&#39;s call. Cantrips typically have a casting
          time of 0 segments and go off immediately. The player may choose
          whether the rest of their turn happens before or after casting. The
          character may not do anything else during casting.</li> <li><strong>Other:</strong> 1d10 - Dex mod</li></ul> <p class="svelte-vp7kuz">The DM goes through the round segment by segment. When the segment #
        rolled for an initiative is called, that character may take their turn
        (Move, take their Action and take their Bonus Action), or choose to hold
        until a later segment in the same round. A spellcaster may hold off on
        beginning to cast a spell or completing it, but if they are holding
        completion they are vulnerable to losing concentration if they take
        damage.</p> <p class="svelte-vp7kuz">If the player changes their mind mid-round they may switch weapons or
        spells with a 1 segment penalty. If you switch spells or switch to a
        non-spell action after you have started casting a spell, the original
        spell slot is lost.</p> <strong class="details-heading svelte-vp7kuz">Spell Casting Concentration:</strong> <p class="svelte-vp7kuz">If a spellcaster takes damage during casting, they must save or lose the
        spell (it does not take effect and they are down the spell slot).</p> <p class="svelte-vp7kuz">Save DC = 20 - (highest level of spell the caster is capable of - level
        the spell is being cast at)</p> <p class="svelte-vp7kuz">Roll D20 + spellcasting ability or Con mod (player&#39;s choice)</p> <p class="svelte-vp7kuz">This completely replaces the 5e Concentration mechanic. (Note: This
        inevitably breaks the balance on a few spells, so you may have to tweak
        exactly how they work. The main culprit my players have abused so far is
        Spiritual Guardians.)</p></details>`},m(n,i){W(n,e,i)},d(n){n&&H(e)}}}function nn(t){let e,n,i,l,s,o=[],u=new Map,v,g,f,k,A,S,m,C,p,N,I=ae(t[1]);const R=y=>y[21].title;for(let y=0;y<I.length;y+=1){let d=tn(t,I,y),w=R(d);u.set(w,o[y]=ln(w,d))}return{c(){e=h("div"),n=h("label"),i=h("strong"),i.textContent="Saved Combats:",l=E(),s=h("select");for(let y=0;y<o.length;y+=1)o[y].c();v=E(),g=h("div"),f=h("button"),f.textContent="Delete",k=E(),A=h("button"),A.textContent="Load Saved Combat",a(s,"class","svelte-vp7kuz"),t[2]===void 0&&$(()=>t[10].call(s)),a(n,"class","saved svelte-vp7kuz"),a(f,"class","delete"),a(A,"class","load"),a(g,"class","saved-buttons svelte-vp7kuz")},m(y,d){W(y,e,d),r(e,n),r(n,i),r(n,l),r(n,s);for(let w=0;w<o.length;w+=1)o[w]&&o[w].m(s,null);ke(s,t[2],!0),r(e,v),r(e,g),r(g,f),r(g,k),r(g,A),C=!0,p||(N=[F(s,"change",t[10]),F(f,"click",t[11]),F(A,"click",t[12])],p=!0)},p(y,d){d&2&&(I=ae(y[1]),o=mn(o,d,R,1,y,I,u,s,gn,ln,null,tn)),d&6&&ke(s,y[2])},i(y){C||(y&&$(()=>{C&&(m&&m.end(1),S=$n(e,Ue,{}),S.start())}),C=!0)},o(y){S&&S.invalidate(),y&&(m=ei(e,Ri,{})),C=!1},d(y){y&&H(e);for(let d=0;d<o.length;d+=1)o[d].d();y&&m&&m.end(),p=!1,re(N)}}}function ln(t,e){let n,i=e[21].title+"",l,s;return{key:t,first:null,c(){n=h("option"),l=K(i),n.__value=s=e[21],x(n,n.__value),this.first=n},m(o,u){W(o,n,u),r(n,l)},p(o,u){e=o,u&2&&i!==(i=e[21].title+"")&&be(l,i),u&2&&s!==(s=e[21])&&(n.__value=s,x(n,n.__value))},d(o){o&&H(n)}}}function sn(t){let e,n,i;function l(o){t[15](o,t[18],t[19],t[20])}let s={autoSort:t[5],current:t[18].roundNumber===t[0].currentRoundNumber};return t[18]!==void 0&&(s.round=t[18]),e=new Oi({props:s}),et.push(()=>ti(e,"round",l)),e.$on("next",t[16]),{c(){ni(e.$$.fragment)},m(o,u){vn(e,o,u),i=!0},p(o,u){t=o;const v={};u&32&&(v.autoSort=t[5]),u&1&&(v.current=t[18].roundNumber===t[0].currentRoundNumber),!n&&u&1&&(n=!0,v.round=t[18],Yn(()=>n=!1)),e.$set(v)},i(o){i||(ge(e.$$.fragment,o),i=!0)},o(o){Pe(e.$$.fragment,o),i=!1},d(o){bn(e,o)}}}function Bi(t){let e,n,i,l=t[3]?` - ${t[3]}`:"",s,o,u=t[0].currentRoundNumber+"",v,g,f,k,A,S,m,C,p,N,I,R,y,d,w,M,T,z,Y,J,se=(t[3]??"Not saved")+"",Q,oe,ee=(t[4]??"N/A")+"",q,te,G,X,c,b,j=(window==null?void 0:window.location.hostname)!=="localhost"&&(window==null?void 0:window.location.hostname)!=="127.0.0.1"&&zi(),_=t[1].length&&nn(t),P=ae(t[0].roundsData),L=[];for(let D=0;D<P.length;D+=1)L[D]=sn(en(t,P,D));const Te=D=>Pe(L[D],1,1,()=>{L[D]=null});return{c(){e=h("header"),n=h("h1"),i=K("Initiative Tracker"),s=K(l),o=K(" - Round: "),v=K(u),g=E(),f=h("div"),k=h("button"),k.textContent="Clear",A=E(),S=h("button"),S.textContent="Save Combat",m=E(),j&&j.c(),C=E(),p=h("main"),_&&_.c(),N=E(),I=h("div"),R=h("input"),y=E(),d=h("label"),d.textContent="Automatically sort by segment when rolling all initiatives",w=E();for(let D=0;D<L.length;D+=1)L[D].c();M=E(),T=h("footer"),z=h("p"),Y=h("strong"),Y.textContent="Last saved as:",J=E(),Q=K(se),oe=K(" - Round: "),q=K(ee),te=E(),G=h("button"),G.textContent="Save Combat",a(n,"class","svelte-vp7kuz"),a(k,"class","clear svelte-vp7kuz"),a(S,"class","save highlighted svelte-vp7kuz"),a(f,"class","buttons svelte-vp7kuz"),a(e,"class","svelte-vp7kuz"),a(R,"type","checkbox"),a(R,"id","auto-sort"),a(d,"for","auto-sort"),a(I,"class","auto-sort svelte-vp7kuz"),a(z,"class","svelte-vp7kuz"),a(G,"class","save highlighted svelte-vp7kuz"),a(T,"class","svelte-vp7kuz")},m(D,B){W(D,e,B),r(e,n),r(n,i),r(n,s),r(n,o),r(n,v),r(e,g),r(e,f),r(f,k),r(f,A),r(f,S),W(D,m,B),j&&j.m(D,B),W(D,C,B),W(D,p,B),_&&_.m(p,null),r(p,N),r(p,I),r(I,R),R.checked=t[5],r(I,y),r(I,d),r(p,w);for(let O=0;O<L.length;O+=1)L[O]&&L[O].m(p,null);W(D,M,B),W(D,T,B),r(T,z),r(z,Y),r(z,J),r(z,Q),r(z,oe),r(z,q),r(T,te),r(T,G),X=!0,c||(b=[F(k,"click",t[8]),F(S,"click",t[9]),F(R,"change",t[13]),F(R,"change",t[14]),F(G,"click",t[17])],c=!0)},p(D,[B]){if((!X||B&8)&&l!==(l=D[3]?` - ${D[3]}`:"")&&be(s,l),(!X||B&1)&&u!==(u=D[0].currentRoundNumber+"")&&be(v,u),D[1].length?_?(_.p(D,B),B&2&&ge(_,1)):(_=nn(D),_.c(),ge(_,1),_.m(p,N)):_&&(Lt(),Pe(_,1,1,()=>{_=null}),Ft()),B&32&&(R.checked=D[5]),B&33){P=ae(D[0].roundsData);let O;for(O=0;O<P.length;O+=1){const Ne=en(D,P,O);L[O]?(L[O].p(Ne,B),ge(L[O],1)):(L[O]=sn(Ne),L[O].c(),ge(L[O],1),L[O].m(p,null))}for(Lt(),O=P.length;O<L.length;O+=1)Te(O);Ft()}(!X||B&8)&&se!==(se=(D[3]??"Not saved")+"")&&be(Q,se),(!X||B&16)&&ee!==(ee=(D[4]??"N/A")+"")&&be(q,ee)},i(D){if(!X){ge(_);for(let B=0;B<P.length;B+=1)ge(L[B]);X=!0}},o(D){Pe(_),L=L.filter(Boolean);for(let B=0;B<L.length;B+=1)Pe(L[B]);X=!1},d(D){D&&(H(e),H(m),H(C),H(p),H(M),H(T)),j&&j.d(D),_&&_.d(),lt(L,D),c=!1,re(b)}}}function Li(t,e,n){let i={currentRoundNumber:1,roundsData:[{roundNumber:1,monsters:[{number:1,alive:!0,name:"",target:"",initiativeDie:me.NONE,dexBonus:0,extraAttacks:[],status:"",info:""}]}]},l=[],s,o,u,v=!1;function g(){n(0,i={currentRoundNumber:1,roundsData:[{roundNumber:1,monsters:[{number:1,alive:!0,name:"",target:"",initiativeDie:me.NONE,dexBonus:0,extraAttacks:[],status:"",info:""}]}]}),n(3,o=void 0),n(4,u=void 0)}function f(){const d=[];for(let w=0;w<localStorage.length;w++){if(console.log(localStorage.key(w)),localStorage.key(w)==="admin"||localStorage.key(w)==="autoSort")continue;const M=JSON.parse(localStorage.getItem(localStorage.key(w)));d.push({title:localStorage.key(w),combat:M})}n(1,l=d)}pn(()=>{f(),localStorage.getItem("autoSort")&&n(5,v=!0)});const k=()=>{const d=o?JSON.parse(localStorage.getItem(o)):null,w=d?JSON.stringify(d.roundsData[d.currentRoundNumber-1].monsters):null,M=JSON.stringify(i.roundsData[i.currentRoundNumber-1].monsters);(u&&u!==i.currentRoundNumber||u&&d&&w!==M||!u&&i.roundsData.length>1||!u&&i.roundsData[0].monsters.length>1||!u&&i.roundsData[0].monsters[0].name)&&!window.confirm("You have unsaved changes to the current combat. Discard changes?")||g()},A=()=>{const d=window.prompt("Save As:",o);!d||!d.length||(localStorage.setItem(d,JSON.stringify(i)),n(3,o=d),n(4,u=i.currentRoundNumber),f(),n(2,s=l.find(w=>w.title===d)))};function S(){s=Ve(this),n(2,s),n(1,l)}const m=()=>{localStorage.removeItem(s.title),n(3,o=void 0),n(4,u=void 0),f()},C=()=>{n(0,i=s.combat),n(3,o=s.title),n(4,u=s.combat.currentRoundNumber)};function p(){v=this.checked,n(5,v)}const N=()=>{v?localStorage.setItem("autoSort","true"):localStorage.removeItem("autoSort")};function I(d,w,M,T){M[T]=d,n(0,i)}return[i,l,s,o,u,v,g,f,k,A,S,m,C,p,N,I,d=>{n(0,i.roundsData=[...i.roundsData,d.detail],i),n(0,i.currentRoundNumber=d.detail.roundNumber,i)},()=>{const d=window.prompt("Save As:",o);!d||!d.length||(localStorage.setItem(d,JSON.stringify(i)),n(3,o=d),n(4,u=i.currentRoundNumber),f(),n(2,s=l.find(w=>w.title===d)))}]}class Fi extends yn{constructor(e){super(),kn(this,e,Li,Bi,rn,{})}}new Fi({target:document.getElementById("app")});
